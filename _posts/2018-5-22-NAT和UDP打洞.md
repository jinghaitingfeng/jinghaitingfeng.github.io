---
layout:     post
title:      NAT和UDP打洞
subtitle:   网路
date:       2018-5-22
author:     jinghaitingfeng
header-img: img/ifnd.jpg
catalog: true
tags:
    - TCP/IP
    
---
## 1.NAT是什么 ##
　　NAT的全称Network AddressTranslation，通常指的是把内网地址转换成外网地址。一般家用的无线路由器就用到了NAT技术。NAT技术的出现是为了解决IPv4地址不够的问题，而且还能够避免来自网络外部的攻击，隐藏和保护网络内部的计算机，凡事有利必有弊，NAT同样带来了新的问题。  
　　目前大部分使用的IP地址为32位，最多承载42亿个ip，这些ip被称为公网ip并且全球唯一，其中包括很多保留ip,实际可用被使用只有36亿多左右，这就导致如果继续使用ipv4,全球的通信设备是不够分配的，因此引入了局域网和广域网的概念，在局域网内的iP都是局域网ip有3个常用的网段：172.16.0.0/12、10.0.0.0/8、192.168.0.0/16,不用怀疑不信悄悄ifconifg/ipconfig看看自己的电脑吧。
　　这样就面临一个问题：局域网内的机器如何访问外网？外网的机器如何给内网机器返回数据？
　　没错，这就是NAT要解决的问题，不要觉得NAT是台设备，交换机和路由器集成了这个功能，NAT就是一项技术。
## 2.NAT工作原理 ##
如图所示：  
![](./img/nat.jpg)




## 四. 参考资料 ##
[https://mp.weixin.qq.com/s/33FK5IuGq2da-O1xgS1AKA](https://mp.weixin.qq.com/s/33FK5IuGq2da-O1xgS1AKA)  
[http://blog.csdn.net/wangpengqi/article/details/16846191](http://blog.csdn.net/wangpengqi/article/details/16846191)
  